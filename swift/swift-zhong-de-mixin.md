# Swift中的mix-in

## 多继承的问题

多继承是指一个类可以继承自多个父类。

多重继承有三个问题：

1. **结构复杂化** - 如果是单继承，一个类的父类是什么，父类的父类是什么，这些十分明确。因为单一继承关系中，是一棵多叉树结构。但是如果是多重继承，继承关系就十分复杂了。
2. **优先顺序模糊** - 假如有 A、C 同时继承了基类，B 继承了 A，然后 D 又同时继承了 B 和 C，所以此时 D 继承父类方法的顺序应该是 D ⇒ B ⇒ A ⇒ C 还是 D ⇒ B ⇒ C ⇒ A？又或者是其他顺序？如此优先顺序十分模糊。
3. **功能冲突** - 因为多重继承有多个父类，所以当不同的父类中更有相同的方法时就会产生冲突。如果 B 和 C 同时又有相同的方法时，D 继承的是哪个实现就会产生冲突。

![多继承的问题](<../.gitbook/assets/image (6).png>)

## Mix-in

mix-in在面向对象中是一个类，这个类提供了一些方法，使得其他类不用成为这个类的子类就可以使用这些方法。

mix-in可以为其他类提供一些方法，但是他自身却不能单独生成实例来使用。

使用方和mix-in之间的关系是“-able”的关系，而不是“is-a”。即给使用方“混入”某些能力。

mix-in描述了一个类能做什么，而继承描述了一个类是什么。

mix-in用利于代码复用，同时避免了多继承的复杂。

## Swift实现mix-in的方法

protocol的扩展实现
